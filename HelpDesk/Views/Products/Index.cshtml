




@using Microsoft.AspNetCore.Mvc.Localization
@inject IViewLocalizer localizer
@model Entities.Entities.Product

@{
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}
<script>

    //for Product details
    $(function () {
        var placeholder = $('#placeholder');
        $('a[data-toggle="smt"]').click(function (event) {

            var url = $(this).data('url');
            $.get(url).done(function (data) {
                placeholder.html(data);
                placeholder.find('.modal').modal('show');
            })


        })

    })
    //for Adding product popup
    $(function () {
        var placeholder = $('#placeholder');
        $('a[data-toggle="addProduct"]').click(function (event) {

            var url = $(this).data('url');
            $.get(url).done(function (data) {
                placeholder.html(data);
                placeholder.find('.modal').modal('show');
            })


        })

    })

    //for Edit product popup
    $(function () {
        var placeholder = $('#placeholder');
        $('a[data-toggle="editProduct"]').click(function (event) {

            var url = $(this).data('url');
            $.get(url).done(function (data) {
                placeholder.html(data);
                placeholder.find('.modal').modal('show');
            })


        })

    })
    //for Delete product popup
    $(function () {
        var placeholder = $('#placeholder');
        $('a[data-toggle="deleteProduct"]').click(function (event) {

            var url = $(this).data('url');
            $.get(url).done(function (data) {
                placeholder.html(data);
                placeholder.find('.modal').modal('show');
            })


        })

    })


</script>

<div id="placeholder"></div>

<div class="row">
    <div class="col-xl-3 col-md-6">
        <form class="d-none d-md-inline-block form-inline ml-auto mr-0 mr-md-3 my-2 my-md-0">
            <div class="input-group">
                <input class="form-control" type="text" placeholder=@localizer["Search_for..."] aria-label=@localizer["Search"] aria-describedby="basic-addon2" />
                <div class="input-group-append">
                    <button class="btn btn-primary" type="button"><i class="fas fa-search"></i></button>
                </div>
            </div>
        </form>
    </div>
    <div class="col-xl-3 col-md-6">
        <a data-toggle="addProduct" data-target="#addProduct" data-url="@Url.Action("Create")" class="dx-btn dx-btn-lg mt-10">@localizer["Add_Product"]</a>
    </div>
</div>

 
<div class="card-body">
    <table class="table align-middle " id="dataTable" width="100%" cellspacing="0">
        <thead>
            <tr class="table-info table-bordered ">

                <th>
                    @Html.DisplayNameFor(model => model.imgUrl)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.name)
                </th>

                <th>
                    @Html.DisplayNameFor(model => model.factoryName)
                </th>

                <th>
                    @Html.DisplayNameFor(model => model.category)
                </th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in ViewBag.listProducts)
            {
                <tr class="align-middle">
                    <td>
                        <a class="dx-ticket-item">
                            <span class="dx-ticket-img"><img src="@Url.Content(item.imgUrl)" alt="itemimg" /></span>
                        </a>


                    </td>
                    <td>
                        @item.name
                    </td>

                    <td>
                        @item.factoryName

                    <td>
                        @item.category
                    </td>
                    <td>
                        <a href="#" data-toggle="editProduct" data-target="#editProduct" data-url="@Url.Action("Edit",new { id = item.refId })">Edit</a> |
                        @*<a asp-action="Edit" asp-route-id="@item.refId">Edit</a>*@
                        <a href="#" data-toggle="smt" data-target="#smt" data-url="@Url.Action("Details",new { id = item.refId })">Details</a> |
                        <a href="#" data-toggle="deleteProduct" data-target="#deleteProduct" data-url="@Url.Action("Delete",new { id = item.refId })">Delete</a>
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>
 
 


